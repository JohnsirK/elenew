webpackJsonp([22],{"0G8S":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("Xxa5"),s=e.n(a),r=e("exGp"),i=e.n(r),o=e("Dd8w"),c=e.n(o),v=e("NYxO"),l=e("WsNp"),u=e("P9l9"),f={data:function(){return{imgUrl:"https://elm.cangdu.org/img/",nowUserinfo:{}}},components:{allHeader:l.a},computed:c()({},Object(v.d)(["userinfo"])),methods:c()({},Object(v.b)(["saveUserinfo"]),{exit:function(){var t=this;return i()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.A)();case 2:1==n.sent.status&&(t.saveUserinfo({}),t.$toast("退出成功,请重新登录"),t.$router.push("/admin"));case 4:case"end":return n.stop()}},n,t)}))()},changeImg:function(t){var n=this;return i()(s.a.mark(function e(){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.userinfo){e.next=15;break}if(a=t.target.files[0],(r=new FormData).append("file",a,a.name),console.log(r.get("file")),console.log((r.get("file").size/1024).toFixed(2)+"kb"),!(r.get("file").size>=1e5)){e.next=10;break}n.$toast("图片太大,请重新选择!"),e.next=15;break;case 10:return n.$toast.loading({mask:!0,message:"上传中,请稍后"}),e.next=13,Object(u.f)(n.userinfo.id,r);case 13:1==e.sent.status&&(n.getInfo(),n.$toast("上传成功!"));case 15:case"end":return e.stop()}},e,n)}))()},getInfo:function(){var t=this;return i()(s.a.mark(function n(){var e;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.c)();case 2:e=n.sent,t.nowUserinfo=e,t.saveUserinfo(e);case 5:case"end":return n.stop()}},n,t)}))()}})},m={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"main"},[e("all-header",[e("font",{attrs:{slot:"tl"},slot:"tl"},[t._v("\n\t\t\t用户中心\n\t\t")]),t._v(" "),e("font",{attrs:{slot:"admin"},slot:"admin"})],1),t._v(" "),e("div",{staticClass:"content p-b50"},[e("div",{staticClass:"userImg"},[e("div",{staticClass:"imgName"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.imgUrl+t.userinfo.avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t"+t._s(t.userinfo.username)+"\n\t\t\t\t")]),t._v(" "),e("div",{staticClass:"txt"},[e("font",[e("van-icon",{attrs:{name:"phone-o"}}),t._v("\n\t\t\t\t\t\t"+t._s(t.userinfo.mobile?t.userinfo.mobile:"暂未设置手机号")+"\n\t\t\t\t\t")],1),t._v("\n\t\t\t\t\t | \n\t\t\t\t\t "),e("font",{staticStyle:{position:"relative"}},[e("van-icon",{attrs:{name:"records"}}),t._v("\n\t\t\t\t\t\t 修改头像\n\t\t\t\t\t\t "),e("input",{staticClass:"changeTxt",attrs:{type:"file",accept:"image/jpeg,image/png,image/jpg"},on:{change:function(n){return t.changeImg(n)}}})],1)],1)]),t._v(" "),e("div",{staticClass:"listNav"},[e("ul",[e("li",[e("router-link",{attrs:{to:"/balance"}},[e("b",[t._v("0.00")]),t._v("元\n\t\t\t\t\t\t\t"),e("font",[t._v("我的余额")])],1)],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/benefit"}},[e("b",[t._v("3")]),t._v("个\n\t\t\t\t\t\t\t"),e("font",[t._v("我的优惠")])],1)],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/point"}},[e("b",[t._v("0")]),t._v("分\n\t\t\t\t\t\t\t"),e("font",[t._v("我的积分")])],1)],1)])])]),t._v(" "),e("div",{staticClass:"userList"},[e("ul",[e("li",[e("router-link",{attrs:{to:"/service"}},[e("em",[e("van-icon",{attrs:{name:"more-o"}})],1),t._v("\n\t\t\t\t\t\t服务中心\n\t\t\t\t\t\t"),e("font",[e("van-icon",{attrs:{name:"arrow"}})],1)],1)],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/forget"}},[e("em",[e("van-icon",{attrs:{name:"edit"}})],1),t._v("\n\t\t\t\t\t\t修改密码\n\t\t\t\t\t\t"),e("font",[e("van-icon",{attrs:{name:"arrow"}})],1)],1)],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/service"}},[e("em",[e("van-icon",{attrs:{name:"debit-pay"}})],1),t._v("\n\t\t\t\t\t\t饿了么会员卡\n\t\t\t\t\t\t"),e("font",[e("van-icon",{attrs:{name:"arrow"}})],1)],1)],1),t._v(" "),e("li",[e("a",[e("em",[e("van-icon",{attrs:{name:"bulb-o"}})],1),t._v("\n\t\t\t\t\t\t下载饿了么App\n\t\t\t\t\t\t"),e("font",[e("van-icon",{attrs:{name:"arrow"}})],1)],1)])])]),t._v(" "),e("p",{staticClass:"exitBtn",on:{click:t.exit}},[e("van-icon",{attrs:{name:"delete"}}),t._v("\n\t\t\t退出登录\n\t\t")],1)])],1)},staticRenderFns:[]};var d=e("VU/8")(f,m,!1,function(t){e("dViT")},"data-v-3b789dbc",null);n.default=d.exports},dViT:function(t,n){}});